<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head th:replace ="navigation :: bootstrap">

<meta charset="ISO-8859-1">
<title>Welcome to Online Shop</title>
</head>
<body>
	<div class="container-fluid text-center">
		<div th:replace="navigation :: header_menu"></div>

		<div>
			<h2>Reset password</h2>
		</div>
<div>&nbsp;</div>
		<form th:action="@{/reset_password}" method="post" 
			style="max-width: 420px; margin: 0 auto">
			<div th:if ="${error != null}">
			<p class="text-danger">[[${error}]] </p>
			</div>
			<input type ="hidden" th:value=${token} name="token"/>
			<div th:if ="${message != null}">
			<p class="text-warning">[[${message}]] </p>
			</div>
			<div class="border border-secondary rounded p-3">

				
				<div>
				   <p> 
				<input type="password" name="password" id="password" placceholder = "Enter your new password" 
				 required="required" autofocus="autofocus" minlength="8" maxlength="15" oninput="checkPasswordMatch(this)"/>
				   </p>
				</div>
				
						<div>
				   <p> 
				<input type="password" name="password" placceholder = "Enter your new password" 
				 required="required" autofocus="autofocus" minlength="8" maxlength="15"/>
				   </p>
				</div>
                <div>
                <p>
                  <input type="submit" value="Change password" class="btn btn-primary"/>
                </p>
                </div>
			</div>

			
			<div>&nbsp;</div>
		</form>
		
		<script type="text/javascript">
		
		function checkPasswordMatch (confirmPassword){
		
			if (confirmPassword.value != $("#password").val()){
				confirmPassword.setCustomValidity("Password do no match");
		} else {
			confirmPassword.setCustomValidity("");

		}
		}
		
		</script>

<script type="text/javascript">th:src="@{/js/common_customer_form.js}"</script>

		<div th:replace="navigation :: footer_menu"></div>
	</div>
</body>
</html>